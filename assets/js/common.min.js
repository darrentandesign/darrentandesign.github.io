"use strict";!function(r){function a(){576<r(window).width()&&r(".abs-box").each(function(e,a){r(a).find(".abs-box-bg").length||r(a).append('<div class="abs-box-bg"></div>'),r(a).hasClass("abs-box-right")?r(a).find(".abs-box-bg").css("right",-(r(window).width()-r(".container").outerWidth())/2):r(a).find(".abs-box-bg").css("left",-(r(window).width()-r(".container").outerWidth())/2)}),r(".image-full").each(function(e,a){r(a).find(".image-full-box").css("left",-(r(window).width()-r(".container").outerWidth())/2)})}r(".js-hero-slider").on("init",function(e,a,i,t){TweenMax.set("#main-header",{y:"-80px",opacity:0}),TweenMax.set(".hero .slick-dots",{y:"40px",opacity:0}),TweenMax.set(".hero .slick-count",{y:"40px",opacity:0}),r(".hero-slide:first-child .hero-slide-inner").children().each(function(e,a){TweenMax.set(a,{y:"80px",opacity:0})});var s=r(".hero").outerHeight(),o=r(".hero").attr("data-bgColorStart"),n=r(".hero").attr("data-bgColorEnd");r(".trans-layer").css({background:"linear-gradient(40deg, rgba("+o+",1) 0%, rgba("+n+",1) 100%)",opacity:1,"z-index":9999999,top:0}),r(".hero").css({opacity:0}),TweenMax.to(".trans-layer",1,{height:s,ease:Power3.easeIn}),TweenMax.to(".hero",.01,{opacity:1,delay:.99,onComplete:function(){TweenMax.to("#main-header",.5,{y:"0px",opacity:1,ease:Power1.easeOut}),TweenMax.to(".hero .slick-dots",.5,{y:"0px",opacity:1,ease:Power1.easeOut}),TweenMax.to(".hero .slick-count",.5,{y:"0px",opacity:1,ease:Power1.easeOut}),setTimeout(function(){r(".hero-slide:first-child .hero-slide-inner").children().each(function(e,a){e++,TweenMax.to(a,.4*e,{y:"0",opacity:1,ease:Power1.easeOut})})},400)}}),TweenMax.to(".trans-layer",1,{opacity:0,delay:1,onComplete:function(){TweenMax.set(".trans-layer",{height:0,zIndex:1})}})}),r(window).on("load",function(){if(a(),r("body").hasClass("home")||(TweenMax.set("#main-header",{y:"-80px",opacity:0}),TweenMax.to("#main-header",1,{y:"0px",opacity:1,ease:Power1.easeOut})),r(".fade-from-top").each(function(e,a){var i=r(this).attr("data-delay");i=i||0,ScrollReveal().reveal(a,{easing:"ease-out",scale:1,distance:"40px",duration:500,viewFactor:.3,delay:i,afterReveal:function(e){e.classList.add("is-visible")}})}),r(".fade-from-top-children > *").each(function(e,a){ScrollReveal().reveal(a,{easing:"ease-out",scale:1,distance:"40px",duration:500,viewFactor:.3,delay:e,afterReveal:function(e){e.classList.add("is-visible")}})}),r(".fade-in").each(function(e,a){var i=r(this).attr("data-delay");i=i||0,ScrollReveal().reveal(a,{easing:"ease-out",scale:1,opacity:0,duration:500,viewFactor:.3,delay:i,afterReveal:function(e){e.classList.add("is-visible")}})}),r(".slide-image-children img").each(function(e,a){var i=0;r(a).width()<=r(a).closest(".slide-image-children").width()/2+30&&(i=e%2==0?0:200),ScrollReveal().reveal(a,{opacity:"0",duration:600,viewFactor:.3,delay:i,afterReveal:function(e){TweenMax.to(e,.5,{x:"0%",ease:Power1.easeOut})},beforeReveal:function(e){TweenMax.set(e,{x:"100%"})}})}),r(".slide-image-right").each(function(e,a){var i=r(this).attr("data-delay");i=i||0,ScrollReveal().reveal(a,{opacity:"0",duration:600,viewFactor:.3,delay:parseInt(i),afterReveal:function(e){TweenMax.to(e,.5,{x:"0%",ease:Power1.easeOut})},beforeReveal:function(e){TweenMax.set(e,{x:"-100%"})}})}),r(".slide-image-left").each(function(e,a){var i=r(this).attr("data-delay");i=i||0,ScrollReveal().reveal(a,{opacity:"0",duration:600,viewFactor:.3,delay:parseInt(i),afterReveal:function(e){TweenMax.to(e,.5,{x:"0%",ease:Power1.easeOut})},beforeReveal:function(e){TweenMax.set(e,{x:"100%"})}})}),r(".site-content.bg-lines").prepend('<div class="bg-lines__line container"><b></b><b></b><b></b><b></b><b></b></div>'),r(".bg-lines .page-title, .bg-lines .hero, .bg-lines .hero-slide-inner").prepend('<div class="bg-lines__circle"><b></b><b></b><b></b><b></b></div>'),768<r(window).width()){var e=r(window).height()-r("#main-footer").outerHeight()-r("#main-header").outerHeight();e<r(window).height()&&r("#main-content").css("min-height",e)}else r(".brand-list").slick({infinite:!1,slidesToShow:3,slidesToScroll:1,autoplay:!0,arrows:!1,draggable:!0,swipe:!0,dots:!1});r(window).width()<992&&r(".main-menu .sub-menu").each(function(e,a){r(a).prev("a").closest("li").prepend('<span class="js-sub-menu toggle-sub-menu"></span>')}),r(".js-hero-slider").on("init reInit afterChange",function(e,a,i,t){var s=(i||0)+1,o=a.slideCount;s<10&&(s="0"+s),o<10&&(o="0"+o),a.$slider.next(".js-slick-count").text(s+" / "+o)}),r(".js-hero-slider").on("beforeChange",function(e,a,i,t){var s=a.$slides.eq(t).find(".hero-slide-inner").children(),o=1;s.each(function(e,a){r(a).hasClass("bg-lines__circle")||(TweenMax.set(a,{x:"-80px",opacity:0}),setTimeout(function(){TweenMax.to(a,.4,{x:"0",opacity:1,ease:Power1.easeOut})},400+100*o),o++)})}),r(".js-hero-slider").slick({infinite:!0,slidesToShow:1,slidesToScroll:1,pauseOnDotsHover:!0,autoplay:!1,autoplaySpeed:5e3,fade:!0,arrows:!1,draggable:!1,swipe:!1,dots:!0,pauseOnHover:!1,pauseOnFocus:!1,responsive:[{breakpoint:768,settings:{draggable:!0,swipe:!0}}]}),r(".js-offices-carousel").on("init",function(e,a,i){r(".js-offices-dots").appendTo(".js-offices-nav"),r(a.$slides).each(function(e,a){r(".js-offices-nav").append('<li><a href="#0" class="js-to-step" data-slide="'+e+'">'+r(a).find(".js-office-item-title").text()+"</a></li>")}),r(".js-offices-nav li:first-child").addClass("slick-active")}),r(".js-offices-carousel").on("beforeChange",function(e,a,i,t){r(".js-offices-nav .slick-active").removeClass("slick-active"),r(".js-offices-nav li").eq(t).addClass("slick-active")}),r(document).on("click",".js-to-step",function(e){var a=r(this).attr("data-slide");r(".js-offices-carousel").slick("slickGoTo",a)}),r(".js-offices-carousel").slick({infinite:!1,slidesToShow:1,slidesToScroll:1,autoplay:!1,fade:!0,arrows:!1,draggable:!1,swipe:!1,dots:!0,responsive:[{breakpoint:768,settings:{draggable:!0,swipe:!0}}]}),r(".js-gallery a").simpleLightbox(),r(".js-gallery").imagesLoaded().done(function(){var e="masonry";992<r(window).width()&&(e="fitRows"),r(".js-gallery").isotope({layoutMode:e,itemSelector:".grid-item",percentPosition:!0,masonry:{columnWidth:".grid-item"}})})}),r(window).resize(function(){a()});var i=0,t=r(window).width()/4;r(window).scroll(function(e){var a=r(this).scrollTop();t<a?(r("#main-header").hasClass("sticky")?r("#main-header").removeClass("no-animate"):r("#main-header").addClass("no-animate"),r("#main-header").addClass("sticky").css("transform","")):r("#main-header").hasClass("sticky")&&(r("#main-header").css({opacity:0,transform:"translateY(-50%)"}),setTimeout(function(){r("#main-header").removeClass("sticky sticky-down sticky-up").css({opacity:1,transform:"translateY(0)"})},300)),a<i?(r("#main-header.sticky").addClass("sticky-up"),r("#main-header.sticky").removeClass("sticky-down")):(r("#main-header.sticky").removeClass("sticky-up"),r("#main-header.sticky").addClass("sticky-down")),i=a}),r(".header-nav").on("click",function(e){e.preventDefault();var a=e.target;if(r(a).is("#js-open-menu"))e.stopPropagation(),r("#main-header").addClass("mob-menu-active"),r("body").addClass("no-scroll"),r(".page-backdrop").addClass("active"),setTimeout(function(){r("#js-main-menu").addClass("active")},200);else if(r(a).is("#js-close-menu"))e.stopPropagation(),r("#js-main-menu").removeClass("active"),setTimeout(function(){r(".page-backdrop").removeClass("active"),r("body").removeClass("no-scroll")},200),setTimeout(function(){r("#main-header").removeClass("mob-menu-active")},400);else if(r(a).is(".nav-link")){e.stopPropagation();var i=r(a).attr("href");TweenMax.to("#main-header",.2,{y:"-85px",ease:Power1.easeIn}),r("body").hasClass("home")?(TweenMax.to(".hero",.6,{opacity:0,ease:Power1.easeOut,onComplete:function(){window.location.href=i}}),TweenMax.to("#main-footer, section:not(.hero)",.6,{y:"150px",opacity:0,ease:Power1.easeOut})):TweenMax.to("#main-content",.5,{y:"100px",opacity:0,ease:Power1.easeOut,onComplete:function(){window.location.href=i}})}else r(a).is(".js-sub-menu")&&(e.stopPropagation(),r(a).toggleClass("active"),r(a).closest("li").find(".sub-menu").slideToggle())}),r("#js-office-map-modal").on("show.bs.modal",function(e){var a=r(e.relatedTarget).closest(".office-item").find(".js-office-item-title").text(),i=r(e.relatedTarget).closest(".office-item").find(".js-show-on-map-content iframe").clone();r(e.target).find(".modal-body").empty().append(i),r(e.target).find(".modal-title").text(a)}),r(".js-project-filter").on("click",".project-filter__btn",function(e){if(e.preventDefault(),r(".js-project-list .project-item.fade-from-top").removeClass("fade-from-top"),ScrollReveal().clean(".project-item"),!r(this).hasClass("active")){var a=r(this).attr("data-filter");r(this).closest(".js-project-filter").find(".active").removeClass("active"),r(this).addClass("active"),r(".js-project-list").isotope({filter:a})}})}(jQuery);